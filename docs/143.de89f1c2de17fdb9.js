"use strict";(self.webpackChunkbudget_planner_frontend=self.webpackChunkbudget_planner_frontend||[]).push([[143],{7143:(p,l,r)=>{r.r(l),r.d(l,{LoginComponent:()=>v});var c=r(5861),u=r(6895),_=r(529),o=r(433),s=r(5466),e=r(8256),g=r(2370),m=r(646);let v=(()=>{class i{constructor(n,t,a){this.credService=n,this.localService=t,this.router=a,this.loginForm=new o.cw({username:new o.NI(null,[o.kI.required]),password:new o.NI(null,[o.kI.required])}),this.credential=null}ngOnInit(){}validateForm(){console.log(this.loginForm.controls),this.loginForm.invalid?this.loginForm.markAllAsTouched():this.login()}login(){var n=this;return(0,c.Z)(function*(){n.credService.login(n.loginForm.value).subscribe({next:t=>{console.log(t.body),n.credential=t.body,n.localService.setJsonValue("userId",n.credential?.id),n.localService.setJsonValue("name",n.credential?.name),n.localService.setJsonValue("token",n.credential?.token),n.localService.setJsonValue("isVerified",n.credential?.isVerified),n.router.navigate(["envelop","dashboard"])},error:t=>{console.error(t),alert(t)}})})()}navigateToRegister(){console.log("navigateToRegister"),this.router.navigate(["register"])}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(s.T),e.Y36(g.C),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],standalone:!0,features:[e._Bn([s.T]),e.jDz],decls:31,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","h-100vh"],[1,"container"],[1,"d-flex","justify-content-center"],[1,"card","card-width","rounded","shadow"],[1,"card-body"],[1,"card-title","text-justify"],[1,"card-subtitle"],[1,"pt-3"],[1,"d-flex","flex-column"],[3,"formGroup"],[1,"form-floating","mb-3"],["formControlName","username","type","text","id","usernameFloatingInput","placeholder","Enter username",1,"form-control"],["for","usernameFloatingInput"],["formControlName","password","type","password","id","passwordFloatingInput","placeholder","Password",1,"form-control"],["for","passwordFloatingInput"],[1,"mb-3"],["type","submit",1,"btn-blue","w-100","py-2","rounded",3,"click"],[1,"anchor-tag","cursor-pointer",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3")(7,"strong"),e._uU(8,"Login"),e.qZA()(),e.TgZ(9,"p",6),e._uU(10,"Hey, Enter your details to get sign in to your account"),e.qZA()(),e.TgZ(11,"div",7)(12,"div",8)(13,"form",9)(14,"div",10),e._UZ(15,"input",11),e.TgZ(16,"label",12),e._uU(17,"Username"),e.qZA()(),e.TgZ(18,"div",10),e._UZ(19,"input",13),e.TgZ(20,"label",14),e._uU(21,"Password"),e.qZA()(),e.TgZ(22,"div",15)(23,"button",16),e.NdJ("click",function(){return t.validateForm()}),e.TgZ(24,"strong"),e._uU(25,"Sign in"),e.qZA()()()(),e.TgZ(26,"div",7)(27,"label"),e._uU(28,"Don't have an account?"),e.qZA(),e.TgZ(29,"a",17),e.NdJ("click",function(){return t.navigateToRegister()}),e._uU(30," Register Now"),e.qZA()()()()()()()()()),2&n&&(e.xp6(13),e.Q6J("formGroup",t.loginForm))},dependencies:[u.ez,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,_.JF],styles:[".card-width[_ngcontent-%COMP%]{width:50%}.anchor-tag[_ngcontent-%COMP%]{text-decoration:none;color:var(--blue)}@media screen and (max-width: 1000px){.card-width[_ngcontent-%COMP%]{width:80%}}@media screen and (max-width: 700px){.card-width[_ngcontent-%COMP%]{width:100%}}"]}),i})()}}]);